<?php
	require "constants.php";

	class DataBase{
	      private $db;

	      public function __construct(){
	      	     global $host,$port,$dbname,$user,$password;
	      	     $this->db = new PDO("mysql:host=$host;port=$port;dbname=$dbname;charset=UTF8;",$user,$password);
	     }

	     public function getDB(){
	     	     return $this->db;
	     }

	     public function execute($query,$data=NULL){
	     	    $statement = $this->db->prepare($query);

		    if(strtolower(explode(" ",$query)[0]) == "select"){
		    	$statement->execute();
		    	return $statement->fetchAll();
		    }
		    else{
			return $statement->execute($data);
		    }
	      }
	}
?>
